<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Muokkaa ehdokkaita</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="index.css">
    </head>
<script>
function readAllCandidates(){
	var xmlhttp=new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
	  if (this.readyState == 4 && this.status == 200) {
		  var jsoncandidatelist=this.responseText;
		  //Add JSON string as a content of element resultall
		  document.getElementById("resultall").innerHTML = jsoncandidatelist;
		  var candidatelist=JSON.parse(jsoncandidatelist);
		  
		  printAllCandidates(candidatelist);
	  }
	};
	xmlhttp.open("GET", "/rest/candidatesservice/read", true);
	xmlhttp.send();	
}
function printAllCandidates(candidatelist){
	var s="<table border='1'>";
	for (i in list){//or for (var i=0;i<list.length;i++){
		s=s+"<tr>";
		s=s+"<td>"+list[i].age;
		s=s+"<td>"+list[i].firstname;
		s=s+"<td>"+list[i].lasname;
		s=s+"<td>"+list[i].party;
	}
	s=s+"</table>";
	document.getElementById("readCandidates").innerHTML=s;
}
</script>
  <body>
      	<div class="sticky-top bg-primary">
      		<nav class="navbar navbar-expand-md">
          	<a class="navbar-brand" href="#">Logo</a>
          		<button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
            		<span class="navbar-toggler-icon"></span>
          		</button>
          	<div class="collapse navbar-collapse" id="main-navigation">
            	<ul class="navbar-nav">
            		<li class="nav-item">
                		<a class="nav-link" href="/index.html">Home</a>
             		</li>
             		<li class="nav-item">
                		<a class="nav-link" href="#">Contact</a>
              		</li>
              		<li class="nav-item">
                		<a class="nav-link" href="index.html">Logoff</a>
              		</li>
         		</ul>
        	</div>
      		</nav>
    	</div>
    <h1>Candidates</h1>
    <button onclick='readAllCandidates();'>Read all candidates</button>
    <p id='resultall'></p>
    <div id='allcandidates'>
    </div>
    <a class="btn btn-primary" href='addCandidates.html'>Lisää ehdokas </a>
    
   
    
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="../index.js"></script>
  </body>
</html>